---
layout: default
---

<div x-data="blogTabs()" x-init="init()" x-cloak>

  <nav aria-label="Breadcrumb" class="mb-12 text-sm text-stone-500">
    <ol class="flex space-x-2">
      <li><a href="/" class="hover:underline text-stone-600">Home</a></li>
      <li>/</li>
      <li><a href="/about/" class="hover:underline text-stone-600">About</a></li>
      <li>/</li>
      <li class="font-semibold text-stone-800">Persian Calligraphy</li>
      <li class="font-semibold text-stone-800">/</li>
      <li x-text="blogs[selected]?.title" class="font-semibold text-stone-800"></li>
    </ol>
  </nav>
        
  <div class="flex flex-col w-full mx-auto md:flex-row">
    <!-- Sidebar -->
    <aside class="w-full py-2 border-b md:border-r md:w-1/7 border-stone-200 md:border-b-0">
      <ul class="space-y-2">
        <template x-for="(blog, index) in blogs" :key="index">
          <li>
            <button
              @click="select(index)"
              :class="selected === index ? 'font-bold text-stone-900' : 'text-stone-500 hover:text-stone-800'"
              class="w-full text-left"
              x-text="blog.title"
            ></button>
          </li>
        </template>
      </ul>
    </aside>
    <!-- Content Panel -->
    <main class="w-full mt-6 prose md:w-3/4 md:mt-0 md:pl-10 max-w-none">
      <template x-if="blogs[selected]">
        <div>
          <h2 class="mb-4" x-text="blogs[selected].title"></h2>
          <div x-html="blogs[selected].content"></div>
        </div>
      </template>
    </main>
  </div>
</div>

<script>
  function blogTabs() {
    return {
      selected: 0,
      blogs: [
        {% for post in site.blogs %}
        {
          title: {{ post.title | jsonify }},
          content: {{ post.content | jsonify }},
          slug: {{ post.url | jsonify }}
        }{% if forloop.last == false %},{% endif %}
        {% endfor %}
      ],
      select(index) {
        this.selected = index;
        history.pushState(null, '', this.blogs[index].slug);
      },
      init() {
        const currentPath = window.location.pathname;
        const foundIndex = this.blogs.findIndex(blog => blog.slug === currentPath);
        this.selected = foundIndex !== -1 ? foundIndex : 0;
      }
    }
  }
</script>

